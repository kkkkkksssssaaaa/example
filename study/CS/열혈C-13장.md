# [CS] 👽 열혈C프로그래밍

---

## 13. 포인터와 배열! 함께 이해하기

### 13.1 포인터와 배열의 관계

- 배열 이름은 포인터이지만 상수 형태의 포인터임
    - `포인터 상수` 라고도 함
- 모든 배열 요소는 메모리 공간에 나란히 할당 됨
- 배열 이름은 배열 시작 주소 값을 의미
- 배열 이름과 배열의 첫 번째 요소의 포인터 주소는 동일함

    ```c
    // arr 의 첫 번째 요소의 주소 값을 parr 이라는 포인터 변수의 값으로 초기화 하는 구문
    int arr[3] = { 0, 1, 2 };
    int * parr = arr;
    int * parr0 = &arr[0];
    // parr 과 parr0 은 같은 주소 값을 반환함
    ```

### 13.2 포인터 연산

- `int` 형 포인터에 1 증가 시 4만큼 증가, `double` 형 포인터에 1 증가 시 8이 증가함을 볼 수 있음
- 포인터 증감 연산은 해당 데이터 형의 크기에 따라 결정됨
- 중요한 결론은 `arr[i] == *(arr + i)`
    - arr 의 i 번 째의 주소 값은, 곧 arr 배열의 데이터 형의 크기만큼 더한 값 만큼 포인터가 이동한 위치와 같은 곳을 가리킨다는 뜻

### 13.3 상수 형태의 문자열을 가리키는 포인터

- 마지막에 null 문자가 삽입되는 문자열의 선언 방식에는 배열을 이용하는 방식과 `char` 형 포인터 변수를 사용하는 방식이 있음

    ```c
    // 배열의 길이는 자동으로 계산되며 값들은 전부 이어져 있음
    // 문자열 전체를 저장하는 배열
    char str1[] = "my string";
    // 배열의 길이가 자동으로 계산되며 포인터 변수 str2 의 주소와 
    // 값인 your string 이 별도로 할당 되어 있음
    // 메모리상에 자동으로 저장 된 문자열 your string 의 첫 번째 문자를
    // 단순하게 가리키기만 하는 포인터 변수 선언 방식
    char * str2 = "your string";
    ```

    - `str1` 처럼 애초에 배열과 함께 문자를 저장한다면 값을 변경할 수 있기 때문에 `변수 형태의 문자열` 이라고 함
    - `str2` 는 `포인터 상수` 이기 때문에 값을 변경할 수 없음

### 13.4 포인터 변수로 이뤄진 배열: 포인터 배열

- 포인터 변수로 이루어져 주소 값을 저장할 수 있는 배열을 `포인터 배열` 이라고 함
- 기본 배열과 크게 다르지 않음
- `문자열 배열` 이란 문자열의 주소값을 저장할 수 있는 배열인데 그냥 `char` 형 포인터 배열임
    - `char * strArr[3]` 이런거
- 포인터 배열은 가리키는 대상의 차이(실제 주소에 할당 되어 있는 값들)가 있을 뿐이지, 결국 메모리 공간을 가리킨다는 것은 똑같음