# [CS] 👽 열혈C프로그래밍

---

## 18장. 다차원 배열과 포인터의 관계

### 18.1 2차원 배열 이름의 포인터형

- 포인터 배열과 포인터 배열의 포인터 형을 반드시 이해 할 것
- 2차원 배열의 이름이 더블 포인터 형이라는 오해를 절대 해선 안됨

```c
int arr2d[3][3];

// arr2d 는 첫 번째 요소를 가리키면서 배열 전체를 의미
// arr2d[0] 은 첫 번째 요소를 가리키되 1행만을 의미
arr2d != arr2d[0];

sizeof(arr2d): 36 (4 * 3) * 3
sizeof(arr2d[0]): 12 (4 * 3)
```

- 두 포인터의 포인터 형이 같다면, 두 포인터를 대상으로 하는 증가 및 감소 연산의 결과로 증가 및 감소하는 값의 크기는 동일
    - 같은 데이터 형이기  때문에 동일한 비트 수 만큼 증감
- 2차원 배열 이름의 포인터 형은 가리키는 대상이 무엇인지, 배열 이름(포인터)를 대상으로 값을 1 증감 시 실제로 얼마나 증감되는가에 대한 정보가 포함 되어야 함
- `int arr[3][4]` 배열의 포인터 형을 묻는다면
    - 배열 이름 `arr` 이 가리키는 대상은 `int`
    - `arr` 의 값을 1 증가하면 `sizeof(int) * 4` 만큼 주소 값이 증가하는 포인터 형
    - 이런 유형의 포인터 변수를 선언 할 때 `int (*ptr) [4]` 라고 함
    - `[4]` 가 포인터 연산 시 4칸씩 건너뛰는(int) 포인터
    - 이를 `배열 포인터 변수` 라고 함

### 18.2 2차원 배열 이름의 특성과 주의사항

- 배열 포인터와 포인터 배열을 혼동하지 말 것
    - `포인터 배열`
        - `int * whoA [4];`
        - int 형 포인터를 4개의 길이를 가진 배열로 선언

```c
int num1 = 10, num2 = 20, num3 = 30, num4 = 40;
int arr2d[2][4] = { 1, 2, 3, 4, 5, 6, 7, 8 };
int i, j;

int * whoA[4] = { &num1, &num2, &num3, &num4 }; // 포인터 배열
int (*whoB) [4] = arr2d; // 배열 포인터 
```

```c
// 인덱스 [2][1] 의 값을 4로 변경
int arr[3][2] = { { 1, 2 }, { 3, 4 }, { 5, 6 } };
arr[2][1] = 4; // 보통의 경우

(*(arr + 2))[1] = 4; // 이런 식으로 해도 됨
*(arr[2] + 1) = 4;
*(*arr + 2) + 1) = 4;
```